@model ProjectManagementSystem.Models.Project


<div class="col-lg-8 mx-auto p-4 py-md-5">
    <header class="d-flex align-items-center pb-3 mb-5 border-bottom">
        <h1>@Model.Name</h1>
    </header>

    <main>
        <h2 class="text-body">Описание проекта</h2>
        <p class="fs-5 col-md-8">@Model.Description</p>

        <hr class="col-3 col-md-2 mb-5">

        <div class="row g-5">
            <div class="col-md-6">
                <h2 class="text-body-emphasis">Состав команды</h2>
                @if (ViewBag.ProjectTeam != null)
                {
                    @foreach (var item in ViewBag.ProjectTeam)
                    {
                        <p>@item.Name</p>
                    }
                }
            </div>

            <div class="col-md-6">
                <h2 class="text-body-emphasis">Аттестация КИИ</h2>
                @if (@Model.Status == 0)
                {
                    <p>Статус: Нет аттестации</p>
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; vertical-align:bottom; background-color: #fa5050;"></span>
                }
                @if (@Model.Status == 1)
                {
                    <p>Статус: Ожидание</p>
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; vertical-align:bottom; background-color: #8f8f8f"></span>
                }
                @if (@Model.Status == 2)
                {
                    <p>Статус: Отправлено</p>
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; vertical-align:bottom; background-color: #5485e8;"></span>
                }
                @if (@Model.Status == 3)
                {
                    <p>Статус: В обработке</p>
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; vertical-align:bottom; background-color: #fad850"></span>
                }
                @if (@Model.Status == 4)
                {
                    <p>Статус: Пройдено</p>
                    <span style="display: inline-block; width: 20px; height: 20px; border-radius: 50%; vertical-align:bottom; background-color: #50fa7d;"></span>
                }
            </div>

            <div class="col-md-6">
                <h2 class="text-body-emphasis">Репозиторий на GitHub</h2>
                <h5><a href="@Model.GitUrl">@Model.GitUrl</a></h5>
            </div>

            @{
                var role = User.Claims.FirstOrDefault(x => x.Value == "Администратор");
                if (role != null)
                {
                    <div style="display: flex; justify-content: left;">
                        <form style="margin-right: 5px;" asp-controller="Project" asp-action="ProjectUpdate" method="get">
                            <input type="submit" value="Изменить" class="btn btn-dark btn-sm px-15" />
                        </form>

                        <form style="margin-left: 5px;" asp-controller="Project" asp-action="ProjectDelete" method="post">
                            <input asp-for="Id" hidden="hidden" />
                            <input type="submit" value="Удалить" class="btn btn-danger btn-sm px-15" />
                        </form>
                    </div>
                }
                <div style="display: flex; justify-content: left;">
                    <form asp-controller="Project" asp-action="Index" method="post">
                        <input type="submit" value="Назад к списку" class="btn btn-outline-dark btn-sm px-15" />
                    </form>
                </div>

            }
        </div>
    </main>
    <footer class="pt-5 my-5 text-body-secondary border-top">
        Для более подробной информации обратитесь к нам на почту</br>
        <strong>support@productflow.com</strong>
    </footer>
</div>


